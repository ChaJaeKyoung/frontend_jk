<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>built-in object</title>
  <script>
    // 2. 내장 객체(JS 기본 제공)
    // 자바스크립트 엔진에 내장되어 필요한 경우 생성하여 사용

    // 1) 날짜 정보 객체: 날짜와 시간에 대한 정보를 제공
    // 변수 = new Date();
    // 사용성이 떨어져서 다른 외부 라이브러리 사용을 추천

    // 오늘 날짜에 대한 정보를 가지고 있는 객체 생성
    const newDay = new Date();
    document.write(newDay,'<br>');
    const nowYear = newDay.getFullYear();
    const nowMonth = newDay.getMonth(); // date 객체는 현재 월보다 1 적게 나옴
    const nowDate = newDay.getDate();
    const nowDay = newDay.getDay(); // 0~6: 일~토 

    document.write('<h1>오늘 날짜 정보</h1>');
    document.write(`현재 연도: ${nowYear}<br>`);
    document.write(`현재 월: ${nowMonth}<br>`);
    document.write(`현재 일: ${nowDate}<br>`);
    document.write(`현재 요일: ${nowDay}<br>`);

    // 특정 날짜 정보를 갖는 날짜 객체 생성
    // new Date(연, 월, 일, 시, 분, 초, 밀리초);
    // 변수 = new Date(연, 월 - 1, 일);
    // 변수 = new Date('2023/12/31');
    // 변수 = new Date('2023-12-31');

    const someDay = new Date(2023, 11, 31);

    const theYear = someDay.getFullYear();
    const theMonth = someDay.getMonth(); // date 객체는 현재 월보다 1 적게 나옴
    const theDate = someDay.getDate();
    const theDay = someDay.getDay(); // 0~6: 일~토 

    document.write('<h1>오늘 날짜 정보</h1>');
    document.write(`현재 연도: ${theYear}<br>`);
    document.write(`현재 월: ${theMonth}<br>`);
    document.write(`현재 일: ${theDate}<br>`);
    document.write(`현재 요일: ${theDay}<br>`);

    // 특정 날짜까지 D-day 구하기
    // 남은 일 수 (밀리초) = 특정 날짜 객체 시간 - 현재 날짜 객체 시간
    // 1초 = 1000ms
    // 1분(60초) = 1000 * 60
    // 1시간(60분) = 1000 * 60 * 60
    // 1일(24시간) = 1000 * 60 * 60 * 24
    const classEndDate = new Date(2023, 2, 10); //2023년 3월 10일 객체 생성 (실제 월은 +1 한 값)
    const diffDate = classEndDate.getTime() - new Date().getTime(); 
    // getTime(): 1970년 1월 1일 0시 0분 0초로부터 지금까지 몇 ms가 지났는지..?
    const result = Math.ceil(diffDate / (1000 * 60 * 60 * 24)); // Math.ceil 소숫점 올림 내장 객체
    const test = Math.ceil(125.4);
    document.write('소숫점 올림 내장 객체 Math.ceil(125.4) 결과 값 : '+test);
    document.write('<h1>오늘부터 종강까지 남은 날짜</h1>')
    document.write(`D-day: ${result}일 남았습니다.`)

    // 2) 수학 객체: 수학 관련 기능과 속성을 제공
    // 객체 생성을 하지 않고 사용 가능 => 정적(static) 객체
    // Math.메소드명();
    // Math.속성명;
    // 참조) Date같은 객체들은 새로운 변수에 담아서 사용해야 했지만 이런 정적 객체들은 그냥 사용하면 불러와진다!
    document.write('<h1>수학 객체 사용</h1>')
    const num = 2.1234;
    const maxNum = Math.max(10, 5, 8, 30); //최대값 
    document.write('최대값 : ' + maxNum, '<br>');
    const minNum = Math.min(10, 5, 8, 30); //최소값 
    document.write('최소값 : ' + minNum, '<br>');


    document.write('숫자 : ' + num, '<br>');
    const roundNum = Math.round(num); // 소수 첫째자리 반올림
    const floorNum = Math.floor(num); // 소수 첫째자리 반올림
    const ceilNum = Math.ceil(num); // 소수 첫째자리 반올림
    document.write('반올림 : ' + roundNum, '<br>');
    document.write('내림 : ' + floorNum, '<br>');
    document.write('올림 : ' + ceilNum, '<br>');

    const randomNum = Math.random(); // 0이상 1미만의 난수 발생 (실수값)
    document.write('랜덤난수(0<=x<1사이 실수값) : ' + randomNum, '<br>');
    document.write('파이값 : ' + Math.PI,'<br>');

    // random()을 이용하여 특정 범위의 랜덤한 정수값 구하기
    document.write('<h1>특정 범위의 랜덤한 정수값 구하기</h1>');
    // 0 <= Math.random() < 1 (0이상 1미만의 랜덤한 실수값)
    document.write(randomNum,'<br>');
    // 0 <= Math.random() * 10 < 10 (0이상 10미만의 랜덤한 실수값)
    document.write(randomNum * 10,'<br>');
    // 0 <= Math.floor(Math.random() * 10) < 10 (0이상 10미만의 랜덤한 정수값 => 0~9까지 랜덤 정수값)
    document.write(Math.floor(randomNum * 10),'<br>');
    // 1 <= Math.floor(Math.random() + 1 * 10) < 11 (1이상 11미만의 랜덤한 정수값 => 1~10까지 랜덤 정수값)
    document.write(Math.floor(randomNum * 10) + 1,'<br>');

    // 컴퓨터가 내려는 가위, 바위, 보 맞추기!
    document.write('<h1>컴퓨터 가위, 바위, 보 맞추기!</h1>');
    const game = prompt('가위, 바위 , 보 중 선택하세요.','가위');
    let gameNum;
    switch (game) {
      case '가위':
        gameNum = 1;
        break;
      case '바위':
        gameNum = 2;
        break;
      case '보':
        gameNum = 3;
        break;
    
      default:
        alert('잘못 작성하셨습니다.');
        location.reload();
        break;
    }
    // 컴퓨터는 1~3사이의 정수값 난수 발생

    const com = Math.floor(Math.random() * 3) + 1;
    // document.write('<img src="images/math_img_">' + com + '.jpg');
    document.write(`<img src="images/math_img_${com}.jpg">`);

    if (com === gameNum) {
      document.write(`<img src="images/game_1.jpg">`);
    } else {
      document.write(`<img src="images/game_2.jpg">`);
    }
  </script>
</head>
<body>
  <h1 style="color: #00f">오늘부터 특정일까지 남은 실시간 시간</h1>
  <h2 class="d-day-count"></h2>
  <script>
    //(응용) D-day를 '일 시간 분 초'로 실시간 표시하기 
    const tomorrow = new Date(2023, 0, 6); //1월 5일 ~ 1월 6일까지의 시간
    const dDayCountEl = document.querySelector('.d-day-count');
    
    function counter() {
      const diff = tomorrow.getTime() - new Date().getTime();
      // document.write(diff, '밀리초<br>');
      
      // document.write(diff/ (1000 * 60 * 60 * 24), '일<br>');
      const dDay = Math.floor(diff/ (1000 * 60 * 60 * 24)); // Math.floor(0.2121)->소숫점 뒤 버림
      
      // document.write(diff/ ((1000 * 60 * 60 )) % 24, '시간<br>');
      const dHour = Math.floor(diff/ ((1000 * 60 * 60 )) % 24); 
  
      // document.write((diff/ (1000 * 60) % 60 ), '분<br>');
      const dMin = Math.floor(diff/ (1000 * 60) % 60);
  
      // document.write((diff/ (1000) % 60 ), '초<br>');
      const dSec = Math.floor(diff/ (1000) % 60 );
  
      dDayCountEl.textContent = `${dDay}일 ${dHour}시간 ${dMin}분 ${dSec}초 남음`;
    }

    setInterval(counter, 1000); // setInterval(함수명,밀리초(1000ms =1s))

  </script>
</body>
</html>